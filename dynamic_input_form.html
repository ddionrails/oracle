<!DOCTYPE HTML>
	<html lang="de">
		<head>
			<title>SOEP ORACLE</title>
			<meta charset="utf-8">
			
			
			<!-- jQuery -->
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		
			<!-- Bootstrap -->
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
			
			<!-- CSS -->
			<link rel="stylesheet" href="css/style.css" />
			
			<!-- Google Fonts -->
			<link href='https://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
			
			<!-- D3.js -->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
			<script src="http://d3js.org/d3.v3.min.js"></script>
			
			<!-- Javascripts -->
			<script src="compute_regressionModels.js"></script>
			<script src="create_InputForms.js"></script>
			<script src="catch_userInput.js"></script>
			
		</head>

		<body>

			<div id="inputFormHere"></div>
			<div class=text-right>
				<button id="submit" type="submit" class="btn btn-lg btn-primary">Submit</button>
			</div>
						
						
			<script>
			
			/** Read CSV Data **/
			
		
			

/**
var emptyInput = {};
	function addKeys(inputForm){
		emptyInput[coefficient] = 1;
		for(i in keys){
			var key = inputForm[keys[i]].name;
			emptyInput[key]= null;
		};
	};
			
			var myInput = {};
			var key = "hallo";
			var key3 = "abc"
			myInput[key[key3]] = 2;
			myInput[key3] = 44;
			//myInput[hallo[id]] = 23;
			console.log(myInput);
**/			

		/** 1) Read CSV to define Input Forms **/
	
			var inputForm = {
				form1: {
					id:"",
					type:"radio",
					name:"sex",
					value:[0,1],
					label:["Männlich", "Weiblich"],	
					text: "Sind Sie männlich oder weiblich?",
					},
				form2: {
					id:"size",
					type:"number",
					name:"size",
					min:0,
					max:200,
					step:1,
					value:160,
					label:["cm"],	
					text: "Wie groß sind Sie?"
				},
				/**
				form3: {
					id: "letter",
					name:"letter",
					value:[0,1,2,3,4],
					label:["a", "b", "c", "d", "e"],	
					text: "Was ist ihr Lieblingsbuchstabe?",
				},
				form4: {
					type:"checkbox",
					name:"multiple",
					value:[0,1,2,3,4],
					label:["a", "b", "c", "d", "e"],	
					text: "Das ist eine Multiple Choice Frage.",
				},**/
				
				
			};
			
			/** 2) Read second CSV to define Regression Models **/
			
			var dataset;
			var abc = {};
			var j;

			function loadRegressionModel(d1){
				for(var i = 0; i < d1.length; i++){
					if(!abc.hasOwnProperty(d1[i].key)){
						abc[d1[i].key] = {};
						j = i;
						while(j < d1.length && d1[i].key == d1[j].key){
							abc[d1[i].key][d1[j].property] = d1[j].value;
							++j;
						};
					};
				};
				return abc;
			};
			
			d3.csv("inputForm.csv", function(data) {
				dataset = data; 
				console.log(loadRegressionModel(dataset));
			});
			
			
			/** 3) Create Input Forms **/
			createInputForms(inputForm);
			
			/** 4) Catch Input by Submit Button **/
			$("#submit").click(function() {
				var y = catch_userInput(); // Übergabe klappt nicht
				
				/** 5) Compute RegressionModels **/
				computeRegressionModels(y, abc);
				
				/** 6) Draw Diagrams **/
				
			});
			
			/**var regressionModel = {

				income: {
					coefficient: 1000,
					sex: 500,
					school: 500,
					//uni: 1500,
					//size: 5,
					//age: 20,
				},
				lifeSatisfaction: {
					coefficient: 5,
					sex: 2,
					//size: 20,
					//abc: 30,
					school: 400,
				},
				
			}**/
			
			/*
			var input = {
				coefficient: 1,
				sex:5,
				school:1,
			}
			*/
		
		/**	
		; 	**/
		
		
		
			
			
			
			</script>
		</body>
	</html>
		
		
