<!DOCTYPE HTML>
	<html lang="de">
		<head>
			<title>SOEP ORACLE</title>
			<meta charset="utf-8">
			
			<!-- Bootstrap -->
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
			
			<!-- CSS -->
			<link rel="stylesheet" href="css/style.css" />
			
			<!-- Google Fonts -->
			<link href='https://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
			
			<!-- jQuery -->
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		
			<!-- D3.js -->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
			<script src="http://d3js.org/d3.v3.min.js"></script>
			
			<!-- Javascripts -->
			<script src="compute_regressionModels.js"></script>
			<script src="create_InputForms.js"></script>
			
		</head>

		<body>

			<div id="inputFormHere"></div>
			
			
			<!-- Hard coded Input forms for testing -->
			
			<div id="sex">
				<form>
					<input type="radio" name="sex" value="1" checked>Männlich
				<br>
					<input type="radio" name="sex" value="0">Weiblich
				</form>
			</div>
			
				<input id="size" name="size" type="number" min="0" max="200" step="1" value="160"> cm
				
		
				<form>
					<input  type="checkbox" name="pet" value="1" id="katze">Katze
				<br>
					<input type="checkbox" name="pet" value="2" id="hund">Hund
				<br>
					<input type="checkbox" name="pet" value="3" id="vogel">Vogel							
				</form>	
							
				<div id="school">
					<form>
						<input type="radio" name="school" value="0" checked>kein Schulabschluss
					<br>
						<input type="radio" name="school" value="1">Hauptschulabschluss
					<br>
						<input type="radio" name="school" value="3">Realsschulabschluss
					<br>
						<input type="radio" name="school" value="4">Allgemeine Hochschulreife
					<br>
						<input type="radio" name="school" value="5">Hochschulabschluss		     
					</form>

			<script>
			
			/** Read CSV Data
			
			var dataset;

			d3.csv("inputForm.csv", function(data) {
				dataset = data; 
				console.log(data);
			});
			
			**/
			
			
			var inputForm = {
				form1: {
					id:"",
					type:"radio",
					name:"sex",
					value:[0,1],
					label:["Männlich", "Weiblich"],	
					text: "Sind Sie männlich oder weiblich?",
					},
				form2: {
					id:"size",
					type:"number",
					name:"size",
					min:0,
					max:200,
					step:1,
					value:160,
					label:["cm"],	
					text: "Wie groß sind Sie?"
				},
				form3: {
					id: "school",
					type:"radio",
					name:"school",
					value:[0,1,2,3,4],
					label:["a", "b", "c", "d", "e"],	
					text: "Was ist ihr Lieblingsbuchstabe?",
				},
				form4: {
					type:"checkbox",
					name:"pet",
					value:[0,1,2,3,4],
					label:["a", "b", "c", "d", "e"],	
					text: "Das ist eine Multiple Choice Frage.",
				},
				
				
			};
			
			var regressionModel = {

				income: {
					coefficient: 1000,
					sex: 500,
					school: 500,
					//uni: 1500,
					//size: 5,
					//age: 20,
				},
				lifeSatisfaction: {
					coefficient: 5,
					sex: 2,
					//size: 20,
					//abc: 30,
					school: 400,
				},
				
			}
			
			var input = {
				coefficient: 1,
				sex:5,
				school:1,
			}
			
			var emptyInput = {
			
				sex: null,
				pet: [],
				school: null,
				size:null,
			
			}
			
				
	
	
		
		/** Generate empty Object
		/* 	Define empty property by Input form name
		/**
		
		var test = {};
		function abc(inputform){
		
			for(i in key){
				var name = inputForm[keys[i]].name;
				test[name] = null;
			}
		}
		**/
				
			
			
		/**	
		computeRegressionModels(regressionModel);
		createInputForms(inputForm);
		**/	
				
		/** Catch User Input **/		
		function multipleChoice(){
			var checkedValue = [];
				$.each($("input[name="+ inputForm[keys[i]].name+"]:checkbox:checked"), function(){            
				checkedValue.push($(this).val());
			});
			return checkedValue;
		};
			
		function singleChoice(){
			var checkedValue = $("input[name="+ inputForm[keys[i]].name +"]:radio:checked").val();
			return checkedValue;
		};
			
		function getNumber(){
			var value = $("#"+ inputForm[keys[i]].id).val();
			return value;
		};
	
			
			
			
			
			
		/** Read Keys of Object inputForm which defindes Input Forms
		/*
		**/
		var keys = [];
		for(var key in inputForm){
			keys.push(key);
		};
		
		
		/** Add catched User Input to empty object **/
		function organizeUserInput(inputForm) {
			for (i in keys) {
				switch(inputForm[keys[i]].type){
				case "radio": 		emptyInput[inputForm[keys[i]].name] = singleChoice();
									break;
				case "number":		emptyInput[inputForm[keys[i]].name] = getNumber();
									break;
				case "checkbox":	emptyInput[inputForm[keys[i]].name].push(multipleChoice());
									break;				
			};
		};
		}
	
	organizeUserInput(inputForm);
	console.log(emptyInput);
			
			
			
			</script>
		</body>
	</html>
		
		